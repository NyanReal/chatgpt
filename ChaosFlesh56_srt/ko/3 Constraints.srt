1
00:00:02,100 --> 00:00:05,600
지난 영상에서는 근육용 테트라헤드럴(사면체) 메쉬를 만들었습니다.

2
00:00:06,600 --> 00:00:11,640
이걸 저장하고 새 Flesh 에셋을 만들죠.

3
00:00:16,200 --> 00:00:22,520
여기서는 이름을 'Muscle Setup Flesh Asset'으로 하겠습니다.

4
00:00:23,240 --> 00:00:25,640
같은 방식으로 새로운 Dataflow 그래프를 생성합니다.

5
00:00:28,830 --> 00:00:32,090
이 화면은 완전히 새 Dataflow 그래프입니다.

6
00:00:32,350 --> 00:00:35,750
먼저 우리가 할 일은,

7
00:00:36,250 --> 00:00:38,270
방금 만든 테트라헤드럴 메쉬를 가져올 수 있는지 확인하는 것입니다.

8
00:00:38,630 --> 00:00:41,650
그래서 Get Flesh Asset 노드를 하나 만듭니다.

9
00:00:42,530 --> 00:00:45,370
그리고 여기서 우리 테트라헤드럴 메쉬를 찾죠.

10
00:00:46,510 --> 00:00:49,610
좋아요. 이게 근육용 테트라헤드럴 메쉬입니다.

11
00:00:50,810 --> 00:00:55,390
그다음으로 질량과 강성 속성을 먼저 지정하겠습니다.

12
00:00:57,390 --> 00:01:01,990
사용할 노드는 ‘Set Flesh Default Properties’입니다.

13
00:01:03,650 --> 00:01:05,670
일단은 기본값을 그대로 쓰겠습니다.

14
00:01:07,010 --> 00:01:10,550
그 다음, Vertices 탭으로 가보면

15
00:01:12,430 --> 00:01:14,390
오른쪽의 컬렉션 스프레드시트에서

16
00:01:14,710 --> 00:01:16,410
질량 값을 볼 수 있고,

17
00:01:19,360 --> 00:01:21,800
강성 등의 속성도 확인할 수 있습니다.

18
00:01:24,300 --> 00:01:28,260
그리고 이 결과를 Flesh Asset 터미널에 저장하죠.

19
00:01:32,070 --> 00:01:34,150
Flesh 에셋이 저장됐는지 확인하세요.

20
00:01:35,030 --> 00:01:40,430
이제 F 키를 누르면 여기 근육 테트라 메쉬가 보일 겁니다.

21
00:01:41,330 --> 00:01:42,310
그 다음 Start(시작)를 누르세요.

22
00:01:42,630 --> 00:01:44,410
빠르게 시뮬레이션하는 방법입니다.

23
00:01:44,530 --> 00:01:46,550
바닥으로 그냥 떨어지는 걸 볼 수 있죠.

24
00:01:53,430 --> 00:01:54,090
좋습니다.

25
00:01:54,410 --> 00:01:58,850
다음으로 근육에 제약을 몇 개 걸어 보겠습니다,

26
00:01:58,850 --> 00:02:01,990
그래서 본으로 근육 지오메트리를 구동할 수 있게요.

27
00:02:03,130 --> 00:02:07,050
이를 위해 먼저 키네마틱 제약을 설정하겠습니다.

28
00:02:13,440 --> 00:02:17,680
사용할 노드는 ‘Set Flesh Bone Position Target Binding’입니다.

29
00:02:18,360 --> 00:02:22,660
여기 모드는 키네마틱 모드로 두고,

30
00:02:22,920 --> 00:02:27,320
근육과 본 사이에 키네마틱 제약을 만들 겁니다.

31
00:02:28,320 --> 00:02:33,140
그리고 스켈레탈 메쉬에서는 스켈레톤을 지정해야 합니다,

32
00:02:33,440 --> 00:02:37,400
애니메이션된 스켈레톤에 근육을 바인딩할 것이니까요.

33
00:02:38,600 --> 00:02:46,100
Search Radius는 키네마틱 제약을 찾을 때 쓸

34
00:02:46,100 --> 00:02:48,120
반경 임계값입니다.

35
00:02:48,320 --> 00:02:54,760
본에서 이 반경 안에 있는 근육의 모든 정점이

36
00:02:54,760 --> 00:02:56,620
키네마틱으로 바인딩됩니다.

37
00:02:57,220 --> 00:03:02,080
초기 반경은 1로 주겠습니다.

38
00:03:03,840 --> 00:03:09,140
이제 생성된 키네마틱 제약을 시각화하려면

39
00:03:09,140 --> 00:03:13,060
‘Visualize Kinematic Faces’를 호출하면 됩니다.

40
00:03:17,090 --> 00:03:23,190
보시다시피 이게 근육에 걸린 모든 키네마틱 제약입니다.

41
00:03:24,950 --> 00:03:32,830
제약이 너무 많아 보이면 반경을 조정해도 됩니다.

42
00:03:36,010 --> 00:03:38,610
네, 이 정도면 적당해 보이네요.

43
00:03:39,330 --> 00:03:41,370
이게 우리의 키네마틱 제약입니다.

44
00:03:41,370 --> 00:03:46,150
또 근육들 사이를 묶어 줄 스프링 제약도 필요합니다,

45
00:03:46,150 --> 00:03:48,710
근막처럼 서로를 붙잡아 주도록요.

46
00:03:50,050 --> 00:03:53,990
그래서 다른 노드 하나를 더 호출하겠습니다,

47
00:03:54,310 --> 00:03:57,070
‘Set Protects Triangle Position Target Binding’.

48
00:03:58,110 --> 00:04:01,190
여기에는 position target stiffness와

49
00:04:01,530 --> 00:04:02,650
search radius가 있습니다.

50
00:04:03,510 --> 00:04:08,910
그리고 allow sliding을 체크해 근육 사이에서

51
00:04:08,910 --> 00:04:12,370
스프링이 미끄러질 수 있도록 하겠습니다.

52
00:04:13,330 --> 00:04:15,810
stiffness는 10으로,

53
00:04:18,720 --> 00:04:22,260
search radius는 0.5로 설정하죠.

54
00:04:22,660 --> 00:04:26,480
그 전에 밀도 값을 약간 조정하겠습니다.

55
00:04:27,340 --> 00:04:30,380
제가 써 보니 최적값은

56
00:04:30,380 --> 00:04:35,900
밀도 1000, 강성 100,000 입니다.

57
00:04:40,730 --> 00:04:47,010
스프링 강성은 밀도, 즉 질량에 따라 스케일되기 때문에

58
00:04:47,290 --> 00:04:52,770
밀도는 스프링 강성을 설정할 때 꽤 중요합니다.

59
00:04:53,490 --> 00:04:59,010
이제 다시 터미널에 연결하고,

60
00:04:59,750 --> 00:05:03,890
방금 만든 스프링 제약도

61
00:05:03,890 --> 00:05:06,750
‘Visualize Position Targets’로 시각화하겠습니다.

62
00:05:08,010 --> 00:05:10,650
오른쪽 위를 클릭하면,

63
00:05:11,350 --> 00:05:15,730
빨간색으로 표시된 스프링들이 보일 겁니다.

64
00:05:17,310 --> 00:05:19,930
이 정도 양도 괜찮아 보이네요.

65
00:05:20,870 --> 00:05:22,930
그럼 시뮬레이션을 시작해 봅시다.

66
00:05:22,930 --> 00:05:27,370
이제 본과 근육 사이의 키네마틱 제약과

67
00:05:27,370 --> 00:05:30,410
근육들 사이의 스프링 제약이 준비됐습니다.

68
00:05:31,430 --> 00:05:35,470
다음으로 스켈레톤을 가져오죠.

69
00:05:37,130 --> 00:05:38,930
여기서 스켈레톤을 설정하고,

70
00:05:39,890 --> 00:05:41,070
보시는 것처럼 연결되었습니다.

71
00:05:42,030 --> 00:05:44,050
애니메이션도 필요하니,

72
00:05:44,050 --> 00:05:47,410
bicep curl(이두컬) 애니메이션을 사용하겠습니다.

73
00:05:48,090 --> 00:05:49,250
이걸 애니메이션으로 쓰죠.

74
00:05:50,630 --> 00:05:53,050
이제 솔버 설정을 조금 조정하겠습니다.

75
00:05:54,430 --> 00:05:56,650
이 튜토리얼에서는

76
00:05:57,030 --> 00:05:59,190
준정적(Quasi‑static) 시뮬레이션을 실행할 겁니다,

77
00:05:59,630 --> 00:06:03,450
즉 관성이 없다는 뜻입니다.

78
00:06:03,910 --> 00:06:06,730
시뮬레이션에 동역학(다이나믹스)이 없다는 말이죠.

79
00:06:08,670 --> 00:06:10,690
그 이유는,

80
00:06:10,690 --> 00:06:12,970
ML Deformer가 결정론적이기 때문입니다.

81
00:06:13,590 --> 00:06:16,370
즉 각 포즈마다 결과가 항상 같아야 합니다.

82
00:06:16,710 --> 00:06:19,030
관성이나 동역학의 영향을 원하지 않죠.

83
00:06:19,390 --> 00:06:22,150
그래서 ‘Do Quasi‑statics’를 켜 두세요.

84
00:06:23,290 --> 00:06:28,150
그리고 Gauss‑Seidel 솔버도 활성화합니다.

85
00:06:28,330 --> 00:06:30,910
이 Gauss‑Seidel 솔버는

86
00:06:30,910 --> 00:06:33,530
준정적 시뮬레이션을 위해 특별히 설계되었습니다.

87
00:06:33,990 --> 00:06:35,010
그러니 반드시 체크되어 있어야 합니다.

88
00:06:41,100 --> 00:06:43,060
지금 설정은 괜찮아 보이네요.

89
00:06:43,880 --> 00:06:46,620
솔버 설정은 언제든 조정할 수 있습니다,

90
00:06:46,960 --> 00:06:48,520
예를 들어 스텝 수라든지,

91
00:06:49,520 --> 00:06:50,880
반복 횟수 같은 것들을요,

92
00:06:51,860 --> 00:06:54,160
수치적 관성을 줄이기 위해서입니다.

93
00:06:54,440 --> 00:06:56,160
일단은 이 상태로 어떻게 보이는지 보죠.

94
00:06:57,620 --> 00:06:58,120
자,

95
00:06:58,820 --> 00:07:01,200
지금은 꽤 불안정해 보입니다.

96
00:07:01,500 --> 00:07:04,660
중력이 켜져 있기 때문이죠.

97
00:07:04,820 --> 00:07:09,440
우리는 준정적 시뮬레이션을 실행해야 하므로

98
00:07:10,820 --> 00:07:13,260
중력은 꺼 두세요.

99
00:07:16,350 --> 00:07:18,030
보시다시피 관성이 많이 보입니다.

100
00:07:18,750 --> 00:07:21,530
이럴 때는 보통,

101
00:07:22,070 --> 00:07:24,830
서브스텝 수와 반복 횟수를 조정합니다.

102
00:07:25,650 --> 00:07:30,210
서브스텝 5, 반복 20으로 가 보죠.

103
00:07:35,790 --> 00:07:39,790
이제 시뮬은 실시간보다는 오프라인에 가깝습니다.

104
00:07:39,990 --> 00:07:44,470
그래서 시뮬레이션을 캐시해 두는 게 좋습니다.

105
00:07:46,090 --> 00:07:49,910
여기에서 캐시 컬렉션을 하나 만들고,

106
00:07:59,270 --> 00:08:01,330
cache라는 새 폴더를 만듭니다.

107
00:08:05,480 --> 00:08:09,320
이름은 ‘Muscle Chaos Cache Collection’으로 하죠.

108
00:08:10,300 --> 00:08:13,620
캐시를 로드하면 여기 스크롤 바가 보일 겁니다.

109
00:08:14,260 --> 00:08:14,840
이걸로 스크롤할 수 있습니다.

110
00:08:15,140 --> 00:08:19,700
아직 시뮬레이션을 돌리지 않았기 때문에

111
00:08:20,380 --> 00:08:23,060
지금은 애니메이션만 보이는 상태입니다.

112
00:08:24,280 --> 00:08:27,260
그럼 시뮬레이션을 시작하겠습니다.

113
00:08:29,140 --> 00:08:34,020
대략 90프레임 정도면 될 겁니다.

114
00:08:36,020 --> 00:08:38,800
여기서 시뮬 길이를 바꿀 수 있습니다.

115
00:08:38,800 --> 00:08:46,460
시간 범위를 0에서 3으로 바꾸면,

116
00:08:46,840 --> 00:08:49,600
초당 30프레임 기준으로 3초면 90프레임이 됩니다.

117
00:08:50,380 --> 00:08:53,640
자, 이제 빨간 녹화 버튼을 누르세요.

118
00:09:01,680 --> 00:09:04,020
시뮬이 시작되는 걸 볼 수 있을 겁니다.

119
00:09:04,300 --> 00:09:06,400
방금 시뮬레이션이 끝났습니다.

120
00:09:06,780 --> 00:09:10,160
총 90프레임이 생성된 걸 볼 수 있죠.

121
00:09:10,920 --> 00:09:14,740
여기 타임라인을 스크롤해 보면,

122
00:09:18,390 --> 00:09:19,710
시뮬레이션된 근육이 보일 겁니다.

123
00:09:19,750 --> 00:09:21,810
다음 영상에서는,

124
00:09:21,810 --> 00:09:26,390
근육 속성을 설정하고 수축을 추가해 보겠습니다.
