1
00:00:03,710 --> 00:00:10,450
지난 영상에서는 애니메이션된 스켈레톤으로 근육을 구동할 수 있도록 구속(Constraint)을 만들었습니다.

2
00:00:10,730 --> 00:00:20,010
그 상태로 시뮬레이션을 돌려보니 보시는 것처럼 손목 쪽이 약간 이탈하는 문제가 보이네요.

3
00:00:20,550 --> 00:00:25,650
그래서 여기 반경을 키워서 키네마틱 구속을 더 많이 걸어주겠습니다.

4
00:00:26,930 --> 00:00:29,550
값을 0.5에서 0.8로 바꿔볼게요.

5
00:00:30,230 --> 00:00:35,490
이제 근육의 기시/정지(Origin/Insertion)를 페인팅할 준비가 됐습니다.

6
00:00:36,730 --> 00:00:41,030
기시/정지는 근육이 뼈에 붙는 지점을 뜻합니다.

7
00:00:41,490 --> 00:00:43,210
예를 들어 여기 상완이두근(바이셉)을 떠올려 보세요.

8
00:00:43,990 --> 00:00:46,930
근육의 기시는 루트에 더 가까운 쪽입니다.

9
00:00:47,330 --> 00:00:51,570
그리고 근육의 정지는 루트에서 더 멀리 떨어진 쪽이죠.

10
00:00:51,750 --> 00:00:56,650
이제 페인팅할 수 있도록 스켈레탈 메시에 있는 근육들을 불러오겠습니다.

11
00:00:59,720 --> 00:01:00,840
근육들을 선택해 올리고,

12
00:01:02,800 --> 00:01:07,540
다시 이것을 스켈레탈 메시 컬렉션으로 변환하겠습니다.

13
00:01:11,100 --> 00:01:16,780
이제 여기서 Paint Weight Map 노드를 눌러서 바로 페인팅을 시작할 수 있어요.

14
00:01:17,620 --> 00:01:20,960
속성(Attribute) 이름은 origin으로 하겠습니다.

15
00:01:23,890 --> 00:01:26,470
예시로 근육 두 개만 사용해 볼게요.

16
00:01:26,710 --> 00:01:29,910
먼저 왼쪽 하부 대흉근을 써보겠습니다.

17
00:01:32,820 --> 00:01:35,260
여기에 페인팅 도구가 보이네요.

18
00:01:35,620 --> 00:01:37,660
폴리 라쏘(Poly Lasso)를 사용하겠습니다.

19
00:01:40,020 --> 00:01:41,380
좋아 보입니다.

20
00:01:44,940 --> 00:01:51,160
지금은 기시를 칠하고 있으니, 부착 부위를 너무 넓히지 않도록 주의해서 그려 주세요.

21
00:01:52,920 --> 00:01:54,040
괜찮네요.

22
00:01:55,100 --> 00:01:57,700
이두근에도 페인팅해 줍니다.

23
00:02:03,000 --> 00:02:04,140
이 정도 양이면 적당합니다.

24
00:02:04,620 --> 00:02:07,080
이제 같은 방식으로 정지도 작업해 봅시다.

25
00:02:14,590 --> 00:02:16,630
방금 작업한 같은 근육들에 대해 진행하겠습니다.

26
00:02:32,070 --> 00:02:37,250
우리가 사면체 메시가 아니라 스켈레탈 메시에 페인팅하는 이유는,

27
00:02:37,770 --> 00:02:39,930
스켈레탈 메시는 토폴로지가 바뀌지 않기 때문입니다.

28
00:02:40,230 --> 00:02:46,550
스켈레탈 메시 토폴로지는 그대로지만,

29
00:02:46,550 --> 00:02:46,850
사면체 메시의 토폴로지는 변경될 수도 있거든요.

30
00:02:46,850 --> 00:02:50,990
그래서 스켈레탈 메시에 먼저 칠해 두면,

31
00:02:51,790 --> 00:02:54,910
그 페인트를 스켈레탈 메시에서 사면체 메시에 언제든 전송(Transfer)할 수 있습니다.

32
00:02:55,070 --> 00:02:56,590
지금 바로 그렇게 해 보죠.

33
00:03:00,050 --> 00:03:02,630
Transfer Vertex Attribute 노드를 추가합니다.

34
00:03:05,350 --> 00:03:09,130
그리고 From Collection과 Attribute Key를 잊지 말고 연결하세요.

35
00:03:11,090 --> 00:03:14,470
정지(insertion)도 같은 방식으로 한 번 더 해 줍니다.

36
00:03:25,020 --> 00:03:29,480
참고로 이 Transfer Vertex Attribute 노드 안을 보면

37
00:03:29,660 --> 00:03:32,740
여러 가지 전송 모드가 있습니다.

38
00:03:33,020 --> 00:03:38,240
이번에는 스켈레탈 메시 지오메트리와 사면체 메시 지오메트리가

39
00:03:38,860 --> 00:03:40,840
서로 정확히 1:1로 대응합니다.

40
00:03:41,140 --> 00:03:44,400
이럴 때는 Paired Geometry Transfer를 쓰면 됩니다.

41
00:03:45,000 --> 00:03:47,680
그게 아니라면 Global Transfer를 사용해야 합니다.

42
00:03:47,840 --> 00:03:50,640
쉽게 말해, Global Transfer는 근접도 기반의 전역 전송 방식입니다.

43
00:03:51,120 --> 00:03:53,060
이번에는 Paired Geometry를 사용하겠습니다.

44
00:03:54,560 --> 00:03:58,280
하얗게 표시되는 영역이 지금 전송되고 있는 부분입니다.

45
00:03:59,380 --> 00:04:01,200
정지도 같은 방식으로요.

46
00:04:09,050 --> 00:04:13,210
여기 이두근에서도 확인할 수 있습니다.

47
00:04:15,830 --> 00:04:16,430
네, 보이죠.

48
00:04:16,710 --> 00:04:18,130
이게 전송 결과입니다.

49
00:04:19,910 --> 00:04:20,830
좋습니다.

50
00:04:21,030 --> 00:04:25,210
이제 기시와 정지에 해당하는 버텍스를 추출해 보겠습니다.

51
00:04:29,230 --> 00:04:31,010
Vertex Scalar → Vertex Indices 노드를 사용합니다.

52
00:04:32,590 --> 00:04:33,490
버텍스 인덱스로 변환하죠.

53
00:04:34,950 --> 00:04:36,070
그리고 Attribute는

54
00:04:38,850 --> 00:04:40,450
Attribute Key를 연결합니다.

55
00:04:41,110 --> 00:04:45,850
정지에도 같은 노드가 필요하니, 복사해서 하나 더 만들어 둡니다.

56
00:04:50,960 --> 00:04:52,580
연결 상태를 한 번 더 확인하세요.

57
00:04:52,580 --> 00:05:00,920
선택 임계값(Selection Threshold)은 컬렉션 스프레드시트에서 속성 값을 보고 정할 수 있습니다.

58
00:05:01,200 --> 00:05:07,160
Vertices 탭으로 가보면(우리는 버텍스에 페인트했으니까) 기시/정지 값이 보일 거예요.

59
00:05:07,160 --> 00:05:13,620
페인트하지 않은 곳은 대부분 0이고, 칠한 곳은 값이 1일 겁니다.

60
00:05:16,160 --> 00:05:17,220
몇 개만 확인해 보죠.

61
00:05:20,450 --> 00:05:30,370
따라서 임계값을 0.5로 두면, 0.5보다 큰 버텍스 인덱스들을 얻을 수 있습니다.

62
00:05:31,250 --> 00:05:35,970
이제 기시/정지 버텍스들을 갖게 됐습니다.

63
00:05:38,270 --> 00:05:43,130
여기서 Compute Fiber Field 노드를 호출합니다.

64
00:05:54,210 --> 00:05:57,710
그리고 방금 만든 기시/정지 버텍스들을 연결하세요.

65
00:06:00,270 --> 00:06:04,270
Max Iteration(최대 반복 횟수)은 500으로 두겠습니다.

66
00:06:08,450 --> 00:06:14,630
이렇게 해서 하부 대흉근과 이두근에 대해 섬유 방향 필드(Fiber Field)를 풀어냈습니다.

67
00:06:15,230 --> 00:06:22,370
색이 연속적으로 안 보이거나 섬유 필드를 좀 더 잘 보고 싶다면

68
00:06:22,570 --> 00:06:23,490
시각화를 켜서 확인해 봅시다.

69
00:06:25,330 --> 00:06:26,830
여기에 우리가 만든 Fiber Field가 보이네요.

70
00:06:29,250 --> 00:06:32,830
일단 스프링 제약(Spring Constraints) 시각화는 잠시 꺼 두겠습니다.

71
00:06:36,620 --> 00:06:37,960
자, 이게 우리의 Fiber Field입니다.

72
00:06:38,200 --> 00:06:43,160
만약 매끄럽지 않게 보인다면, 여기 최대 반복 횟수를 늘려 주세요.

73
00:06:43,440 --> 00:06:44,720
충분한 반복 수를 사용하고 있는지 확인하는 게 중요합니다.

74
00:06:45,400 --> 00:06:49,540
이제 근육 섬유 필드 해석을 끝냈습니다.

75
00:06:49,940 --> 00:06:53,540
다음으로 근육 활성화(Muscle Activation) 데이터를 계산하겠습니다.

76
00:06:56,730 --> 00:07:02,290
Compute Muscle Activation Data 노드를 호출하고, 기시/정지 인덱스를 연결하세요.

77
00:07:04,750 --> 00:07:08,210
이 작업은 근육 수축 시뮬레이션을 준비하기 위한 단계입니다.

78
00:07:10,570 --> 00:07:12,290
이게 끝나면,

79
00:07:14,510 --> 00:07:17,910
근육 파라미터를 설정할 수 있습니다.

80
00:07:18,430 --> 00:07:20,810
이 노드 이름은 Set Muscle Activation Parameter로 하겠습니다.

81
00:07:21,430 --> 00:07:23,590
지금은 기본값(Default)을 그대로 쓰죠.

82
00:07:24,970 --> 00:07:27,270
그리고 터미널(Terminal)을 가져옵니다.

83
00:07:32,410 --> 00:07:36,290
이번 영상에서 준비하려던 작업은 여기까지입니다.

84
00:07:36,290 --> 00:07:45,590
이제 시뮬레이션에서 Muscle Activation을 켜 보겠습니다. 해당 옵션을 찾아서 활성화하세요.

85
00:07:46,890 --> 00:07:50,590
그 항목을 체크한 뒤 다시 시뮬레이션을 시작합니다.

86
00:07:50,970 --> 00:07:55,690
그러면 근육 수축 결과를 볼 수 있을 겁니다.

87
00:07:57,830 --> 00:08:00,610
좋습니다, 방금 시뮬레이션이 끝났네요.

88
00:08:05,090 --> 00:08:07,010
결과를 같이 살펴봅시다.

89
00:08:07,370 --> 00:08:09,310
보시다시피 이제 이두근이 수축하기 시작합니다.

90
00:08:10,510 --> 00:08:12,890
꽤 멋지죠.

91
00:08:14,990 --> 00:08:15,870
다음 영상에서는 근육 시뮬레이션을 테스트할 때 조정할 수 있는 몇 가지 옵션들을 보여드리겠습니다.

92
00:08:16,950 --> 00:08:21,750
하모나이제이션(조화화)에 대한 부분도 다뤄보겠습니다.

93
00:08:21,750 --> 00:08:21,950
작지만 유용한 컨트롤 팁도 함께 다룰 예정입니다.

94
00:08:23,790 --> 00:08:24,130
작지만 유용한 컨트롤 팁도 함께 다룰 예정입니다.
